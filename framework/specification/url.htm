<html>
<head>
<title>swoole框架 - URL映射规则</title>
<meta http-equiv=Content-Type content="text/html; charset=gbk">
<link rel="stylesheet" href="../../public/css/Word2Chm.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/default.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/noframe.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="../../public/styles/shThemeDefault.css" type="text/css"/>
<script type="text/javascript" src="../../public/scripts/shCore.js"></script>
<script type="text/javascript" src="../../public/scripts/shBrushPhp.js"></script>
<script type="text/javascript">
    SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.all();
</script>
</head>
<body>
    <div class="wiki_content">
        <article>
            <h1>URL映射规则</h1>
            
            <p>swoole框架使用强规则来做URL映射。如下面的URL</p>
            <pre class="brush: php;">http://127.0.0.1/hello/index/
</pre>
            <p>将会映射到 apps/controllers/Hello.php 中的 Hello::index 方法。</p>
            <h2>自定义URL</h2>
            <p>
                修改
               apps/configs/rewrite.php
                    ，增加正则配置。具体使用方法请看示例。
            </p>
            <pre class="brush: php;">$rewrite[] = array(
    'regx' => '^/content/([a-z]+)\.html$',
    'mvc'  => array('controller' => 'content', 'view' => 'getlist'),
    'get'  => 'app',
);
</pre>
            <ul>
                <li>$regx需要传入一个正则表达式，符合该正则表达式就会进入此条URL路由</li>
                <li>$mvc指定对应的controller, view名称</li>
                <li>$get可以将正则表达式中的子表达式（括号中的表达式）赋值到$_GET参数中</li>
            </ul>
            <h2>魔法参数</h2>
            <p>swoole提供了自动参数处理规则。</p>
            <ul>
                <li>/hello/index/100 ，自动赋值给 $_GET['id'] = 100</li>
                <li>/hello/index/cid-1-name-rango ，自动赋值到
                    $_GET['cid'] = 1， $_GET['name'] = 'rango'</li>
            </ul>
        </article>
        
    </div>
</body>
</html>
