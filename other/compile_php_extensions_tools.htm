<html>
<head>
<title>附录：编译PHP扩展的相关工具</title>
<meta http-equiv=Content-Type content="text/html; charset=gbk">
<link rel="stylesheet" href="../public/css/Word2Chm.css" type="text/css">
<link rel="stylesheet" href="../public/css/default.css" type="text/css" />
<link rel="stylesheet" href="../public/css/noframe.css" type="text/css" />
<link rel="stylesheet" href="../public/css/bootstrap.css" type="text/css" />
</head>
<body>
    <div class="wiki_content">
        <article>
            <h1>附录：编译PHP扩展的相关工具</h1>
            
            <p>首先你需要下载一份扩展的源码，可以到github或者pecl.php.net上下载，解压后放到一个目录中，cd进入此目录。</p>
            <h2>autoconf</h2>
            <p>根据config.m4生成configure脚本，phpize是基于autoconf的封装。</p>
            <h2>phpize</h2>
            <p>phpize这个工具是php官方提供的，用于将PHP扩展的config.m4解析生成./configure
                脚本。</p>
            <h2>configure</h2>
            <p>这个脚本是用来检测系统和环境状态，依赖库和头文件是否存在，编译配置等</p>
            <h2>php-config</h2>
            <p>这个工具执行后会打印当前PHP安装在哪里目录，API版本号是什么，扩展目录在哪里等信息。configure脚本需要依赖它找到PHP安装的目录</p>
            <h2>make</h2>
            <p>用来将.c源文件编译为目标文件。make
                install将编译好的扩展文件，如swoole.so安装到PHP的扩展目录下</p>
            <h2>gcc</h2>
            <p>编译器，将*.c源文件编译为目标文件。并连接所有目标文件生成swoole.so</p>
            <h2>clang</h2>
            <p>另外一种编译器，FreeBSD/MacOS下用的比较多。</p>
            <h2>安装过程</h2>
            <pre class="brush: php;">phpize
./configure
make
make install
</pre>
        </article>
        
    </div>
</body>
</html>
