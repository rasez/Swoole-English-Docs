<html>
<head>
<title>swoole_redis::connect</title>
<meta http-equiv=Content-Type content="text/html; charset=gbk">
<link rel="stylesheet" href="../../public/css/Word2Chm.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/default.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/noframe.css" type="text/css" />
<link rel="stylesheet" href="../../public/css/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="../../public/styles/shThemeDefault.css" type="text/css"/>
<script type="text/javascript" src="../../public/scripts/shCore.js"></script>
<script type="text/javascript" src="../../public/scripts/shBrushPhp.js"></script>
<script type="text/javascript">
    SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.all();
</script>
</head>
<body>
    <div class="wiki_content">
        <article>
            <h1>swoole_redis->connect</h1>
            
            <p>连接到Redis服务器</p>
            <h2>函数原型</h2>
            
            <pre class="brush: php;">function swoole_redis-&gt;connect(string $host, int $port, callable $callback);</pre>
            <ul>
                <li>$host: Redis服务器的主机IP</li>
                <li>$port: Redis服务器的端口</li>
                <li>$callback: 连接成功后回调的函数</li>
            </ul>
            <h2>回调函数</h2>
            
            <pre class="brush: php;">function onConnect(swoole_redis $redis, bool $result);</pre>
            <ul>
                <li>$redis: redis连接对象</li>
                <li>$result: 连接成功为true，连接失败为false，可以读取<code>$redis-&gt;errCode</code>获得错误码，读取<code>$redis-&gt;errMsg</code>获得错误消息
                </li>
            </ul>
            <p>连接成功后就可以执行Redis指令了。</p>
            <h2>使用示例</h2>
            
            <pre class="brush: php;">$client = new swoole_redis;
$client-&gt;connect('127.0.0.1', 6379, function (swoole_redis $client, $result) {
    if ($result === false) {
        echo "connect to redis server failed.\n"
        return;
    }
    $client-&gt;set('key', 'swoole', function (swoole_redis $client, $result) {
        var_dump($result);
    });
});
            </pre>
        </article>
        
    </div>
</body>
</html>
